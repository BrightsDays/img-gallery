{"version":3,"sources":["components/App/App.js","index.js"],"names":["Main","useState","names","setNames","url","setUrl","LoadList","data","className","map","item","index","onClick","filter","src","alt","addItems","source","match","img","Image","onload","concat","fetch","method","then","res","json","galleryImages","TextField","id","label","onChange","e","target","value","Button","variant","color","component","preventDefault","type","files","reader","FileReader","r","result","readAsDataURL","onDrop","objectFitImages","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sQA6FeA,EAzFF,WAAO,IAAD,EACSC,mBAAS,MADlB,mBACVC,EADU,KACHC,EADG,OAEKF,mBAAS,MAFd,mBAEVG,EAFU,KAELC,EAFK,KAIXC,EAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAChB,OACI,oBAAIC,UAAU,eAAd,SACKD,GACDA,EAAKE,KAAI,SAACC,EAAMC,GAAP,OACL,qBAAIH,UAAU,qBAAd,UAEI,wBAAQA,UAAU,sBACVI,QAAS,kBAAMT,EAASD,EAAMW,QAAO,SAAAH,GAAI,OAAIA,IAASR,EAAMS,QADpE,eAEA,qBAAKH,UAAU,gDACVM,IAAKJ,EAAKN,IACVW,IAAI,YALJJ,SAYnBK,EAAW,SAAAC,GACb,GAAIA,GAAUA,EAAOC,MAAM,2BAA4B,CACnD,IAAMC,EAAM,IAAIC,MAChBD,EAAIL,IAAMG,EACVE,EAAIE,OAAS,WAGTlB,EAFCD,EAEQ,CAAC,CAAC,IAAOe,IAASK,OAAOpB,GADzB,CAAC,CAAC,IAAOe,WAGnB,GAAIA,GAAUA,EAAOC,MAAM,cAAe,CAG7CK,MAAMN,EAFW,CAAEO,OAAQ,QAGtBC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACE,GAGHxB,EAFCD,EAESyB,EAAKC,cAAeN,OAAOpB,GAD5ByB,EAAKC,oBAwB9B,OAFK1B,GAAOc,EAAS,+EAGjB,sBAAKR,UAAU,UAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,cAACqB,EAAA,EAAD,CAAWrB,UAAU,wBACdsB,GAAG,iBACHC,MAAM,+GACNC,SAAU,SAAAC,GAAC,OAAI5B,EAAO4B,EAAEC,OAAOC,UACtC,cAACC,EAAA,EAAD,CAAQ5B,UAAU,yBACV6B,QAAQ,YACRC,MAAM,UACNC,UAAU,OACV3B,QAAS,SAAAqB,GACLA,EAAEO,iBACFxB,EAASZ,IANrB,uEASJ,sBAAKI,UAAU,eAAf,UACI,mBAAGA,UAAU,qBAAb,+IACA,uBAAOA,UAAU,sBACViC,KAAK,OACLT,SAAU,SAAAC,GAAC,OAtCf,SAAAA,GACX,IAAIS,EAAQT,EAAEC,OAAOQ,MACjBC,EAAS,IAAIC,WAEjBD,EAAOtB,OAAS,SAAAwB,GAGZ1C,EAFCD,EAEQ,CAAC,CAAC,IAAO2C,EAAEX,OAAOY,SAASxB,OAAOpB,GADlC,CAAC,CAAC,IAAO2C,EAAEX,OAAOY,UAE3BD,EAAEX,OAAOC,MAAQ,IAGjBO,EAAM,IACNC,EAAOI,cAAcL,EAAM,IA0BDM,CAAOf,SAEjC,cAAC3B,EAAD,CAAUC,KAAML,QChF1B+C,MAEAC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7f4cf583.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport './App.sass';\r\n\r\nconst Main = () => {\r\n  const [names, setNames] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  const LoadList = ({ data }) => {\r\n      return(\r\n          <ul className=\"gallery-list\">\r\n              {data &&\r\n              data.map((item, index) => (\r\n                  <li className=\"gallery-list__item\"\r\n                      key={index}>\r\n                      <button className=\"gallery-list__close\"\r\n                              onClick={() => setNames(names.filter(item => item !== names[index]))}>X</button>\r\n                      <img className=\"gallery-list__image gallery-list__image--poly\"\r\n                           src={item.url}\r\n                           alt=\"Image\"/>\r\n                  </li>\r\n              ))}\r\n          </ul>\r\n      );\r\n  };\r\n\r\n  const addItems = source => {\r\n      if (source && source.match(/\\.(jpe?g|png|gif|bmp)$/i)) {\r\n          const img = new Image();\r\n          img.src = source;\r\n          img.onload = () => {\r\n              !names ?\r\n              setNames([{'url': source}]) :\r\n              setNames([{'url': source}].concat(names));\r\n          };\r\n      } else if (source && source.match(/\\.(json)$/i)) {\r\n          const settings = { method: \"Get\" };\r\n\r\n          fetch(source, settings)\r\n              .then(res => res.json())\r\n              .then((json) => {\r\n                  !names ?\r\n                  setNames(json.galleryImages) :\r\n                  setNames((json.galleryImages).concat(names));\r\n              });\r\n      }\r\n  };\r\n\r\n  const onDrop = e => {\r\n      let files = e.target.files;\r\n      let reader = new FileReader();\r\n\r\n      reader.onload = r => {\r\n          !names ?\r\n          setNames([{'url': r.target.result}]) :\r\n          setNames([{'url': r.target.result}].concat(names))\r\n          r.target.value = '';\r\n      };\r\n\r\n      if (files[0]) {\r\n          reader.readAsDataURL(files[0]);\r\n      }\r\n  }\r\n\r\n  if (!names) addItems('https://don16obqbay2c.cloudfront.net/frontend-test-task/gallery-images.json');\r\n\r\n  return(\r\n      <div className=\"gallery\">\r\n          <div className=\"gallery-header\">\r\n              <TextField className=\"gallery-header__input\"\r\n                     id=\"standard-basic\"\r\n                     label=\"введите url-адрес файла\"\r\n                     onChange={e => setUrl(e.target.value)}/>\r\n              <Button className=\"gallery-header__upload\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      component=\"span\"\r\n                      onClick={e => {\r\n                          e.preventDefault();\r\n                          addItems(url);\r\n                      }}>Загрузить</Button>\r\n          </div>\r\n          <div className=\"gallery-drop\">\r\n              <p className=\"gallery-drop__info\">или перетащите файл сюда</p>\r\n              <input className=\"gallery-drop__input\"\r\n                     type=\"file\"\r\n                     onChange={e => onDrop(e)} />\r\n          </div>\r\n          <LoadList data={names}/>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport objectFitImages from 'object-fit-images';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\n\r\nobjectFitImages();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}